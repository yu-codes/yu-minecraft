# Yu Minecraft ç§æœ (v1.21.8)

ä¸€å€‹åŸºæ–¼Dockerçš„Minecraftç§æœå°ˆæ¡ˆï¼Œæä¾›ç°¡å–®æ˜“ç”¨çš„éƒ¨ç½²å’Œç®¡ç†æ–¹æ¡ˆã€‚ç¾å·²æ”¯æ´æœ€æ–°çš„ Minecraft 1.21.8 ç‰ˆæœ¬ï¼

## âœ¨ æ–°ç‰ˆæœ¬ç‰¹è‰²

- ğŸ†• **å®Œå…¨æ”¯æ´ Minecraft 1.21.8**
- ğŸ—ï¸ **æ–°ç‰¹æ€§æ•´åˆ**ï¼šCrafterã€Trial Chambersã€Wind Charges ç­‰
- âš¡ **æ•ˆèƒ½æœ€ä½³åŒ–**ï¼šé‡å° 1.21.8 çš„å°ˆå±¬èª¿å„ª
- ğŸ”Œ **å¤–æ›ç›¸å®¹æ€§**ï¼šèˆ‡æœ€æ–°å¤–æ›å®Œç¾æ•´åˆ

## ğŸ“‹ é–‹ç™¼æµç¨‹

### ç¬¬ä¸€éšæ®µï¼šåŸºç¤ç’°å¢ƒå»ºç½®

1. **Dockerç’°å¢ƒé…ç½®**
   - å»ºç«‹Dockerfileç”¨æ–¼Minecraftä¼ºæœå™¨
   - é…ç½®docker-compose.ymlç”¨æ–¼å®¹å™¨ç·¨æ’
   - è¨­å®šè³‡æ–™æŒä¹…åŒ–å·

2. **ä¼ºæœå™¨é…ç½®**
   - é…ç½®server.propertiesæª”æ¡ˆ
   - è¨­å®šä¼ºæœå™¨åŸºæœ¬åƒæ•¸ï¼ˆåŸ è™Ÿã€æœ€å¤§ç©å®¶æ•¸ç­‰ï¼‰
   - é…ç½®ç™½åå–®å’Œæ¬Šé™ç³»çµ±

### ç¬¬äºŒéšæ®µï¼šè‡ªå‹•åŒ–éƒ¨ç½²

1. **éƒ¨ç½²è…³æœ¬**
   - å»ºç«‹å•Ÿå‹•/åœæ­¢è…³æœ¬
   - è¨­å®šå‚™ä»½è…³æœ¬
   - é…ç½®è¨˜éŒ„ç®¡ç†

2. **ç›£æ§ç³»çµ±**
   - ä¼ºæœå™¨ç‹€æ…‹ç›£æ§
   - ç©å®¶ç·šä¸Šç›£æ§
   - è³‡æºä½¿ç”¨ç›£æ§

### ç¬¬ä¸‰éšæ®µï¼šç®¡ç†å·¥å…·

1. **Webç®¡ç†ä»‹é¢**
   - ä¼ºæœå™¨æ§åˆ¶é¢æ¿
   - ç©å®¶ç®¡ç†
   - å¤–æ›ç®¡ç†

2. **å¤–æ›æ•´åˆ**
   - å¸¸ç”¨å¤–æ›é é…ç½®
   - è‡ªè¨‚å¤–æ›é–‹ç™¼
   - å¤–æ›ç†±æ›´æ–°

### ç¬¬å››éšæ®µï¼šæœ€ä½³åŒ–å’Œæ“´å±•

1. **æ•ˆèƒ½æœ€ä½³åŒ–**
   - JVMåƒæ•¸èª¿å„ª
   - ä¼ºæœå™¨æ•ˆèƒ½ç›£æ§
   - è³‡æºä½¿ç”¨æœ€ä½³åŒ–

2. **åŠŸèƒ½æ“´å±•**
   - å¤šä¸–ç•Œæ”¯æ´
   - ç¶“æ¿Ÿç³»çµ±
   - ç¤¾äº¤åŠŸèƒ½

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç³»çµ±è¦æ±‚

- Docker 20.0+
- Docker Compose 2.0+
- è‡³å°‘4GB RAM
- 10GBå¯ç”¨ç£ç¢Ÿç©ºé–“

### å®‰è£éƒ¨ç½²

```bash
# è¤‡è£½å°ˆæ¡ˆ
git clone https://github.com/yu-codes/yu-minecraft.git
cd yu-minecraft

# å•Ÿå‹•ä¼ºæœå™¨
docker-compose up -d

# æŸ¥çœ‹è¨˜éŒ„
docker-compose logs -f minecraft
```

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```text
yu-minecraft/
â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ docker-compose.yml
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ server.properties
â”‚   â”œâ”€â”€ whitelist.json
â”‚   â””â”€â”€ ops.json
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ start.sh
â”‚   â”œâ”€â”€ stop.sh
â”‚   â””â”€â”€ backup.sh
â”œâ”€â”€ web/
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ assets/
â”œâ”€â”€ plugins/
â””â”€â”€ worlds/
```

## ğŸ”§ é…ç½®èªªæ˜

### ä¼ºæœå™¨é…ç½®

- **åŸ è™Ÿ**: 25565 (å¯åœ¨docker-compose.ymlä¸­ä¿®æ”¹)
- **ç‰ˆæœ¬**: Minecraft 1.21.8 (æ­£å¼ç‰ˆ)
- **Java**: Java 21 LTS
- **æœ€å¤§ç©å®¶æ•¸**: 20 (å¯åœ¨server.propertiesä¸­ä¿®æ”¹)
- **éŠæˆ²æ¨¡å¼**: Survival (å¯é…ç½®)
- **é›£åº¦**: Normal (å¯é…ç½®)

### é è¨­ç®¡ç†å“¡

åˆæ¬¡å•Ÿå‹•å¾Œï¼Œå°‡yournameæ–°å¢åˆ°ops.jsonä¸­ç²å¾—ç®¡ç†å“¡æ¬Šé™ã€‚

## ğŸ“ ä½¿ç”¨èªªæ˜

### æ•´åˆç®¡ç†ä»‹é¢

```bash
./manage.sh
```

### ä¼ºæœå™¨åŸºæœ¬æ“ä½œ

#### å•Ÿå‹•ä¼ºæœå™¨

```bash
./scripts/start.sh
```

#### åœæ­¢ä¼ºæœå™¨

```bash
./scripts/stop.sh
```

#### å‚™ä»½ä¸–ç•Œ

```bash
./scripts/backup.sh
```

### ç›£æ§èˆ‡æ•ˆèƒ½

#### å³æ™‚ç›£æ§

```bash
# ä¸€æ¬¡æ€§ç›£æ§
./scripts/monitor.sh

# é€£çºŒç›£æ§
./scripts/monitor.sh continuous

# æŸ¥çœ‹ç›£æ§è¨˜éŒ„
./scripts/monitor.sh logs
```

#### æ•ˆèƒ½åˆ†æ

```bash
# è¨˜éŒ„æ•ˆèƒ½è³‡æ–™
./scripts/performance.sh

# ç”Ÿæˆæ•ˆèƒ½å ±å‘Š
./scripts/performance.sh report

# åŒ¯å‡ºæ•ˆèƒ½è³‡æ–™
./scripts/performance.sh export
```

#### æ•ˆèƒ½æœ€ä½³åŒ–

```bash
# å®Œæ•´æœ€ä½³åŒ–
./scripts/optimize.sh

# ç³»çµ±æ•ˆèƒ½æª¢æŸ¥
./scripts/optimize.sh check
```

### å¤–æ›ç®¡ç†

#### å¤–æ›åŸºæœ¬æ“ä½œ

```bash
# æŸ¥çœ‹å·²å®‰è£å¤–æ›
./scripts/plugins.sh

# æŸ¥çœ‹æ¨è–¦å¤–æ›
./scripts/plugins.sh recommended

# ä¸‹è¼‰å¤–æ›
./scripts/plugins.sh download <å¤–æ›åç¨±>

# ç§»é™¤å¤–æ›
./scripts/plugins.sh remove <å¤–æ›åç¨±>

# å®‰è£åŸºæœ¬å¤–æ›å¥—ä»¶
./scripts/plugins.sh essentials
```

#### å¤–æ›å‚™ä»½èˆ‡æ¢å¾©

```bash
# å‚™ä»½å¤–æ›
./scripts/plugins.sh backup

# æ¢å¾©å¤–æ›
./scripts/plugins.sh restore <å‚™ä»½æª”æ¡ˆ>
```

### æŸ¥çœ‹ä¼ºæœå™¨ç‹€æ…‹

è¨ªå• <http://localhost:8080> æŸ¥çœ‹Webç®¡ç†ä»‹é¢

## ğŸŒ é ç«¯é€£ç·šè¨­å®š

### æœ¬åœ°ç¶²è·¯é€£ç·šï¼ˆå€åŸŸç¶²ï¼‰

å¦‚æœä½ æƒ³è®“åŒä¸€å€åŸŸç¶²è·¯çš„æœ‹å‹é€£ç·šï¼š

1. **æŸ¥çœ‹ä½ çš„å…§ç¶² IP**ï¼š

   ```bash
   # macOS/Linux
   ifconfig | grep "inet " | grep -v 127.0.0.1
   
   # Windows
   ipconfig
   ```

2. **æœ‹å‹é€£ç·šæ–¹å¼**ï¼š
   - ä¼ºæœå™¨åœ°å€ï¼š`ä½ çš„å…§ç¶²IP:25565`
   - ä¾‹å¦‚ï¼š`192.168.1.100:25565`

### å¤–ç¶²é€£ç·šè¨­å®š

#### æ–¹æ³•ä¸€ï¼šè·¯ç”±å™¨ç«¯å£è½‰ç™¼ï¼ˆæ¨è–¦ï¼‰

1. **ç™»å…¥è·¯ç”±å™¨ç®¡ç†ç•Œé¢**ï¼š
   - é€šå¸¸æ˜¯ `192.168.1.1` æˆ– `192.168.0.1`
   - ä½¿ç”¨ç®¡ç†å“¡å¸³è™Ÿå¯†ç¢¼ç™»å…¥

2. **è¨­å®šç«¯å£è½‰ç™¼**ï¼š
   - æ‰¾åˆ°ã€Œç«¯å£è½‰ç™¼ã€æˆ–ã€Œè™›æ“¬ä¼ºæœå™¨ã€è¨­å®š
   - æ·»åŠ è¦å‰‡ï¼š
     - æœå‹™åç¨±ï¼šMinecraft Server
     - å…§éƒ¨ IPï¼šä½ çš„é›»è…¦å…§ç¶² IP
     - å…§éƒ¨ç«¯å£ï¼š25565
     - å¤–éƒ¨ç«¯å£ï¼š25565
     - å”è­°ï¼šTCP

3. **å–å¾—å…¬ç¶² IP**ï¼š

   ```bash
   curl ifconfig.me
   ```

4. **æœ‹å‹é€£ç·šæ–¹å¼**ï¼š
   - ä¼ºæœå™¨åœ°å€ï¼š`ä½ çš„å…¬ç¶²IP:25565`

#### æ–¹æ³•äºŒï¼šä½¿ç”¨ ngrokï¼ˆç°¡å–®ä½†æœ‰é™åˆ¶ï¼‰

1. **å®‰è£ ngrok**ï¼š

   ```bash
   # åˆ° https://ngrok.com è¨»å†Šä¸¦ä¸‹è¼‰
   # æˆ–ä½¿ç”¨ Homebrew (macOS)
   brew install ngrok/ngrok/ngrok
   ```

2. **è¨­ç½® ngrok**ï¼š

   ```bash
   # ä½¿ç”¨ä½ çš„ authtoken
   ngrok config add-authtoken <your-authtoken>
   ```

3. **å•Ÿå‹•éš§é“**ï¼š

   ```bash
   ngrok tcp 25565
   ```

4. **å–å¾—é€£ç·šåœ°å€**ï¼š
   - ngrok æœƒé¡¯ç¤ºé¡ä¼¼ï¼š`0.tcp.ngrok.io:12345`
   - é€™å°±æ˜¯æœ‹å‹çš„é€£ç·šåœ°å€

#### æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ Tailscaleï¼ˆæ¨è–¦çµ¦æŠ€è¡“ç”¨æˆ¶ï¼‰

1. **å®‰è£ Tailscale**ï¼š

   ```bash
   # åˆ° https://tailscale.com ä¸‹è¼‰å®‰è£
   ```

2. **è¨­ç½® Tailscale**ï¼š
   - åœ¨æ‰€æœ‰è¦é€£ç·šçš„è£ç½®ä¸Šå®‰è£ Tailscale
   - ä½¿ç”¨åŒä¸€å€‹å¸³è™Ÿç™»å…¥

3. **é€£ç·šæ–¹å¼**ï¼š
   - æœ‹å‹ä½¿ç”¨ä½ çš„ Tailscale IP é€£ç·š
   - ä¾‹å¦‚ï¼š`100.x.x.x:25565`

### é˜²ç«ç‰†è¨­å®š

ç¢ºä¿é˜²ç«ç‰†å…è¨± 25565 ç«¯å£ï¼š

#### macOS

```bash
# æª¢æŸ¥é˜²ç«ç‰†ç‹€æ…‹
sudo /usr/libexec/ApplicationFirewall/socketfilterfw --getglobalstate

# å¦‚æœéœ€è¦ï¼Œå…è¨± Docker
sudo /usr/libexec/ApplicationFirewall/socketfilterfw --add /Applications/Docker.app
```

#### Linux (Ubuntu/Debian)

```bash
# å…è¨± 25565 ç«¯å£
sudo ufw allow 25565/tcp

# æª¢æŸ¥ç‹€æ…‹
sudo ufw status
```

#### Windows

```powershell
# ä»¥ç®¡ç†å“¡èº«ä»½é‹è¡Œ PowerShell
New-NetFirewallRule -DisplayName "Minecraft Server" -Direction Inbound -LocalPort 25565 -Protocol TCP -Action Allow
```

### å®‰å…¨å»ºè­°

1. **ä½¿ç”¨ç™½åå–®**ï¼š

   ```bash
   # ç·¨è¼¯ config/whitelist.json
   # åªå…è¨±ä¿¡ä»»çš„ç©å®¶é€£ç·š
   ```

2. **è¨­å®šç®¡ç†å“¡**ï¼š

   ```bash
   # ç·¨è¼¯ config/ops.json
   # çµ¦ä¿¡ä»»çš„ç©å®¶ç®¡ç†å“¡æ¬Šé™
   ```

3. **å®šæœŸå‚™ä»½**ï¼š

   ```bash
   # ä½¿ç”¨å‚™ä»½è…³æœ¬
   ./scripts/backup.sh
   ```

4. **ç›£æ§é€£ç·š**ï¼š

   ```bash
   # ç›£æ§ä¼ºæœå™¨ç‹€æ…‹
   ./scripts/monitor.sh continuous
   ```

### å¸¸è¦‹å•é¡Œ

**Q: æœ‹å‹ç„¡æ³•é€£ç·šï¼Ÿ**

- æª¢æŸ¥é˜²ç«ç‰†è¨­å®š
- ç¢ºèªç«¯å£è½‰ç™¼æ­£ç¢º
- é©—è­‰å…¬ç¶² IP æ˜¯å¦æ­£ç¢º

**Q: é€£ç·šå¾ˆæ…¢ï¼Ÿ**

- æª¢æŸ¥ç¶²è·¯é »å¯¬
- è€ƒæ…®èª¿æ•´ä¼ºæœå™¨é…ç½®
- ä½¿ç”¨å°±è¿‘çš„ VPS

**Q: å¦‚ä½•é™åˆ¶ç©å®¶æ•¸é‡ï¼Ÿ**

- ç·¨è¼¯ `config/server.properties`
- ä¿®æ”¹ `max-players=20`

## ğŸ› ï¸ é–‹ç™¼è¨ˆç•«

- [x] å°ˆæ¡ˆåˆå§‹åŒ–
- [x] Dockerç’°å¢ƒé…ç½®
- [x] åŸºç¤é…ç½®æª”æ¡ˆ
- [x] éƒ¨ç½²è…³æœ¬
- [x] Webç®¡ç†ä»‹é¢
- [x] ç›£æ§ç³»çµ±
- [x] å¤–æ›æ•´åˆ
- [x] æ•ˆèƒ½æœ€ä½³åŒ–

## ğŸ“§ è¯çµ¡æ–¹å¼

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹é€éGitHub Issuesè¯çµ¡ã€‚

## ğŸ“„ æˆæ¬Šæ¢æ¬¾

MIT License
